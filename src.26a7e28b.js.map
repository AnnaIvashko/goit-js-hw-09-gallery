{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["galleryItems","preview","original","description","refs","ul","document","querySelector","div","lightboxImg","lightbox","closeModalBtn","lightboxContent","gallerySrc","map","item","lightboxoverlay","galleryMarkup","reduce","acc","handleImgClick","evt","preventDefault","target","currentTarget","src","dataset","source","alt","getAttribute","classList","add","window","addEventListener","handleKeyPress","closeModal","remove","removeEventListener","handleOverlayClick","event","code","nextImage","key","i","length","insertAdjacentHTML"],"mappings":";;;AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CAC1B,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DV,QAAA,aAAA;;AC4GN,aA5GD,QAAA,oBACA,IAAA,EAAA,QAAA,sBACA,MAAMC,EAAO,CACXC,GAAIC,SAASC,cAAc,YAC3BC,IAAKF,SAASC,cAAc,aAC5BE,YAAaH,SAASC,cAAc,oBACpCG,SAAUJ,SAASC,cAAc,aACjCI,cAAeL,SAASC,cAAc,wCACtCK,gBAAiBN,SAASC,cAAc,sBACxCM,WAAYb,EAAac,aAAAA,IAAKC,GAASA,EAAKb,UAC5Cc,gBAAiBV,SAASC,cAAc,uBAIpCU,EAAgBjB,EAAakB,aAAAA,OAAO,CAACC,EAAKJ,KAiBvCI,OAFPA,6EAXUJ,EAAKb,sEAIJa,EAAKd,gCACGc,EAAKb,yBACba,EAAKZ,4CAQf,IAUH,SAASiB,EAAeC,GACtBA,EAAIC,iBACAD,EAAIE,SAAWF,EAAIG,gBAIvBpB,EAAKK,YAAYgB,IAAMJ,EAAIE,OAAOG,QAAQC,OAC1CvB,EAAKK,YAAYmB,IAAMP,EAAIE,OAAOM,aAAa,OAE/CzB,EAAKI,IAAIsB,UAAUC,IAAI,WACvBC,OAAOC,iBAAiB,UAAWC,IAgBrC,SAASC,IACP/B,EAAKM,SAASoB,UAAUM,OAAO,WAC/BhC,EAAKK,YAAYgB,IAAM,GACvBrB,EAAKK,YAAYmB,IAAM,GACvBI,OAAOK,oBAAoB,UAAWH,GAGxC,SAASI,EAAmBC,GACtBA,EAAMhB,SAAWgB,EAAMf,eAI3BW,IAGF,SAASD,EAAeK,GACH,WAAfA,EAAMC,MAIVL,IAGF,SAASM,EAAUC,GACbA,GAAa,eAAbA,EAAIF,KACD,IAAA,IAAIG,EAAI,EAAGA,EAAIvC,EAAKS,WAAW+B,OAAS,EAAGD,GAAK,EAC/CvC,GAAAA,EAAKS,WAAW8B,KAAOvC,EAAKK,YAAYgB,IAAK,CAC/CrB,EAAKK,YAAYgB,IAAMrB,EAAKS,WAAW8B,EAAI,GAC3C,MAIFD,GAAa,cAAbA,EAAIF,KACD,IAAA,IAAIG,EAAI,EAAGA,EAAIvC,EAAKS,WAAW+B,OAAQD,GAAK,EAC3CvC,GAAAA,EAAKS,WAAW8B,KAAOvC,EAAKK,YAAYgB,IAAK,CAC/CrB,EAAKK,YAAYgB,IAAMrB,EAAKS,WAAW8B,EAAI,GAC3C,OAtERvC,EAAKC,GAAGwC,mBAAmB,YAAa5B,GAMxCb,EAAKC,GAAG4B,iBAAiB,QAASb,GAuBlChB,EAAKO,cAAcsB,iBAAiB,QAASE,GAC7C/B,EAAKQ,gBAAgBqB,iBAAiB,QAASK,GAC/CN,OAAOC,iBAAiB,UAAWQ,GACnCrC,EAAKY,gBAAgBiB,iBAAiB,QAASK","file":"src.26a7e28b.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];  ","import './sass/main.scss';\nimport { galleryItems } from './js/gallery-items';\nconst refs = {\n  ul: document.querySelector(\".gallery\"),\n  div: document.querySelector(\".lightbox\"),\n  lightboxImg: document.querySelector(\".lightbox__image\"),\n  lightbox: document.querySelector(\".lightbox\"),\n  closeModalBtn: document.querySelector('button[data-action=\"close-lightbox\"]'),\n  lightboxContent: document.querySelector(\".lightbox__content\"),\n  gallerySrc: galleryItems.map((item) => item.original),\n  lightboxoverlay: document.querySelector(\".lightbox__overlay\"),\n};\n\n//Создание и рендер разметки по массиву данных и предоставленному шаблону.\nconst galleryMarkup = galleryItems.reduce((acc, item) => {\n  const itemMarkup = `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${item.original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${item.preview}\"\n      data-source=\"${item.original}\"\n      alt=\"${item.description}\"\n    />\n     </a>\n  </li>`;\n\n  acc += itemMarkup;\n\n  return acc;\n}, \"\");\n\nrefs.ul.insertAdjacentHTML(\"beforeend\", galleryMarkup);\n\n//Реализация делегирования на галерее ul.js - gallery и получение url большого изображения.\n//Открытие модального окна по клику на элементе галереи.\n//Подмена значения атрибута src элемента img.lightbox__image.\n\nrefs.ul.addEventListener(\"click\", handleImgClick);\n\nfunction handleImgClick(evt) {\n  evt.preventDefault();\n  if (evt.target === evt.currentTarget) {\n    return;\n  }\n\n  refs.lightboxImg.src = evt.target.dataset.source;\n  refs.lightboxImg.alt = evt.target.getAttribute(\"alt\");\n\n  refs.div.classList.add(\"is-open\");\n  window.addEventListener(\"keydown\", handleKeyPress);\n}\n\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-modal\"].\n// Очистка значения атрибута src элемента img.lightbox__image.\n// Это необходимо для того, чтобы при следующем открытии модального окна,\n//пока грузится изображение, мы не видели предыдущее.\n//Закрытие модального окна по клику на div.lightbox__overlay.\n// Закрытие модального окна по нажатию клавиши ESC\n//Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\n\nrefs.closeModalBtn.addEventListener(\"click\", closeModal);\nrefs.lightboxContent.addEventListener(\"click\", handleOverlayClick);\nwindow.addEventListener(\"keydown\", nextImage);\nrefs.lightboxoverlay.addEventListener(\"click\", handleOverlayClick);\n\nfunction closeModal() {\n  refs.lightbox.classList.remove(\"is-open\");\n  refs.lightboxImg.src = \"\";\n  refs.lightboxImg.alt = \"\";\n  window.removeEventListener(\"keydown\", handleKeyPress);\n}\n\nfunction handleOverlayClick(event) {\n  if (event.target !== event.currentTarget) {\n    return;\n  }\n\n  closeModal();\n}\n\nfunction handleKeyPress(event) {\n  if (event.code !== \"Escape\") {\n    return;\n  }\n\n  closeModal();\n}\n\nfunction nextImage(key) {\n  if (key.code === \"ArrowRight\") {\n    for (let i = 0; i < refs.gallerySrc.length - 1; i += 1) {\n      if (refs.gallerySrc[i] === refs.lightboxImg.src) {\n        refs.lightboxImg.src = refs.gallerySrc[i + 1];\n        break;\n      }\n    }\n  }\n  if (key.code === \"ArrowLeft\") {\n    for (let i = 1; i < refs.gallerySrc.length; i += 1) {\n      if (refs.gallerySrc[i] === refs.lightboxImg.src) {\n        refs.lightboxImg.src = refs.gallerySrc[i - 1];\n        break;\n      }\n    }\n  }\n}"]}